<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Caesar Cipher üîë</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      text-align: center;
      padding: 30px;
      background: linear-gradient(135deg, #89f7fe, #66a6ff);
      color: #333;
    }
    h1 {
      color: #222;
      margin-bottom: 10px;
    }
    textarea {
      width: 80%;
      height: 100px;
      margin: 15px 0;
      padding: 12px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
      resize: none;
    }
    input[type="number"] {
      width: 70px;
      padding: 8px;
      font-size: 16px;
      border-radius: 6px;
      border: 1px solid #ccc;
      margin: 5px;
    }
    button {
      padding: 12px 25px;
      margin: 10px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      background: #007bff;
      color: white;
      transition: 0.3s;
    }
    button:hover {
      background: #0056b3;
    }
    #output {
      margin-top: 20px;
      padding: 15px;
      background: white;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 18px;
      min-height: 50px;
    }
    #details {
      margin-top: 25px;
      overflow-x: auto;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      background: white;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }
    th, td {
      padding: 10px;
      border: 1px solid #ddd;
      text-align: center;
    }
    th {
      background: #007bff;
      color: white;
    }
    tr:nth-child(even) {
      background: #f9f9f9;
    }
    pre {
      text-align: left;
      background: #272822;
      color: #f8f8f2;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
      margin-top: 30px;
    }
    code {
      font-family: "Courier New", monospace;
    }
  </style>
</head>
<body>
  <h1>üîë Caesar Cipher - M√£ h√≥a & Gi·∫£i m√£</h1>
  <p>Nh·∫≠p vƒÉn b·∫£n v√† ch·ªçn key ƒë·ªÉ th·ª±c hi·ªán.</p>

  <textarea id="textInput" placeholder="Nh·∫≠p vƒÉn b·∫£n..."></textarea><br>
  <label for="key">Key: </label>
  <input type="number" id="key" value="4" min="1" max="25"><br>

  <button onclick="encrypt()">M√£ h√≥a</button>
  <button onclick="decrypt()">Gi·∫£i m√£</button>

  <div id="output"></div>
  <div id="details"></div>

  <h2>Code C++ m·∫´u</h2>
  <pre><code>
#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;

string caesarCipher(string text, int key) {
    string result = "";
    for (char c : text) {
        if (isalpha(c)) {
            char base = isupper(c) ? 'A' : 'a';
            result += char((c - base + key + 26) % 26 + base);
        } else {
            result += c;
        }
    }
    return result;
}

int main() {
    string s = "HELLO";
    int key = 4;
    cout &lt;&lt; "M√£ h√≥a: " &lt;&lt; caesarCipher(s, key) &lt;&lt; endl;
    cout &lt;&lt; "Gi·∫£i m√£: " &lt;&lt; caesarCipher(s, -key) &lt;&lt; endl;
}
  </code></pre>

  <script>
    function caesarShift(str, amount) {
      if (amount < 0) return caesarShift(str, amount + 26);
      let output = "";
      for (let i = 0; i < str.length; i++) {
        let c = str[i];
        if (c.match(/[a-z]/i)) {
          let code = str.charCodeAt(i);
          if (code >= 65 && code <= 90) {
            c = String.fromCharCode(((code - 65 + amount) % 26) + 65);
          } else if (code >= 97 && code <= 122) {
            c = String.fromCharCode(((code - 97 + amount) % 26) + 97);
          }
        }
        output += c;
      }
      return output;
    }

    function showDetails(original, result, key) {
      let table = "<table><tr><th>K√Ω t·ª± g·ªëc</th><th>ASCII g·ªëc</th><th>K√Ω t·ª± m·ªõi</th><th>ASCII m·ªõi</th></tr>";
      for (let i = 0; i < original.length; i++) {
        let o = original[i];
        let r = result[i];
        table += `<tr>
                    <td>${o}</td>
                    <td>${o.charCodeAt(0) || "-"}</td>
                    <td>${r}</td>
                    <td>${r.charCodeAt(0) || "-"}</td>
                  </tr>`;
      }
      table += "</table>";
      document.getElementById("details").innerHTML = "<h3>Chi ti·∫øt bi·∫øn ƒë·ªïi k√Ω t·ª± (Key = " + key + ")</h3>" + table;
    }

    function encrypt() {
      let text = document.getElementById("textInput").value;
      let key = parseInt(document.getElementById("key").value);
      let encrypted = caesarShift(text, key);
      document.getElementById("output").innerText = "üîí M√£ h√≥a: " + encrypted;
      showDetails(text, encrypted, key);
    }

    function decrypt() {
      let text = document.getElementById("textInput").value;
      let key = parseInt(document.getElementById("key").value);
      let decrypted = caesarShift(text, -key);
      document.getElementById("output").innerText = "üîì Gi·∫£i m√£: " + decrypted;
      showDetails(text, decrypted, -key);
    }
  </script>
</body>
</html>
